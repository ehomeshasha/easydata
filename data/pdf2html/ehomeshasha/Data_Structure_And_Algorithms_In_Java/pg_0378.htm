<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0052)http://www.verypdf.com/ -->
<html>
<head>
<title>pg_0378</title>

<style>
<!-- 
select {font-size:12px;}
A:link {text-decoration: none; color: blue}
A:visited {text-decoration: none; color: purple}
A:active {text-decoration: red}
A:hover {text-decoration: underline; color:red}
-->
</style>
<script TYPE="text/javascript"> 
<!-- hide 
function killerrors()
{ 
return true; 
} 
window.onerror = killerrors; 
// --> 
</script>
<style type="text/css">
<!--
.ft0{font-style:normal;font-weight:normal;font-size:16px;font-family:Times New Roman;color:#000000;}
.ft1{font-style:normal;font-weight:normal;font-size:13px;font-family:Arial;color:#010100;}
.ft2{font-style:normal;font-weight:normal;font-size:13px;font-family:Arial;color:#008000;}
.ft3{font-style:normal;font-weight:normal;font-size:11px;font-family:Times New Roman;color:#000000;}
.ft4{font-style:normal;font-weight:normal;font-size:13px;font-family:Times New Roman;color:#010100;}
.ft5{font-style:normal;font-weight:bold;font-size:18px;font-family:Arial;color:#800000;}
.ft6{font-style:italic;font-weight:normal;font-size:13px;font-family:Arial;color:#010100;}
.ft7{font-style:normal;font-weight:bold;font-size:13px;font-family:Arial;color:#010100;}
.ft8{font-style:normal;font-weight:normal;font-size:13px;font-family:Times New Roman;color:#000000;}
-->
</style>
</head>
<body vlink="#FFFFFF" link="#FFFFFF" bgcolor="#ffffff">

<script TYPE="text/javascript">
var currentpos,timer; 
function initialize() 
{ 
timer=setInterval("scrollwindow()",10);
} 
function sc(){
clearInterval(timer); 
}
function scrollwindow() 
{ 
currentpos=document.body.scrollTop; 
window.scroll(0,++currentpos); 
if (currentpos != document.body.scrollTop) 
sc();
} 
document.onmousedown=sc
document.ondblclick=initialize
</script>
<div style="position:absolute;top:0;left:0"><img width="826" height="1169" src="pg_0378.jpg" ALT=""></div>
<div style="position:absolute;top:1102;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:1102;left:391"><span class="ft0"> - 378 -</span></div>
<div style="position:absolute;top:81;left:90"><span class="ft1">(We'll talk more about the design of </span></div>
<div style="position:absolute;top:81;left:311"><span class="ft2">hash functions</span></div>
<div style="position:absolute;top:81;left:401"><span class="ft1"> later in the chapter.)</span></div>
<div style="position:absolute;top:78;left:528"><span class="ft0"> </span></div>
<div style="position:absolute;top:81;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:100;left:80"><span class="ft0"> </span></div>
<div style="position:absolute;top:133;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:116;left:90"><span class="ft1"> To review: We convert a word into a huge number by multiplying each character in the </span></div>
<div style="position:absolute;top:134;left:90"><span class="ft1">word by an appropriate power of 27.hugeNumber = ch0*27</span></div>
<div style="position:absolute;top:128;left:452"><span class="ft3">9</span></div>
<div style="position:absolute;top:134;left:458"><span class="ft1"> + ch1*27</span></div>
<div style="position:absolute;top:128;left:517"><span class="ft3">8</span></div>
<div style="position:absolute;top:134;left:522"><span class="ft1"> + ch2*27</span></div>
<div style="position:absolute;top:128;left:581"><span class="ft3">7</span></div>
<div style="position:absolute;top:134;left:587"><span class="ft1"> + </span></div>
<div style="position:absolute;top:153;left:90"><span class="ft1">ch3*27</span></div>
<div style="position:absolute;top:148;left:134"><span class="ft3">6</span></div>
<div style="position:absolute;top:153;left:139"><span class="ft1"> + ch4*27</span></div>
<div style="position:absolute;top:148;left:198"><span class="ft3">5</span></div>
<div style="position:absolute;top:153;left:204"><span class="ft1"> + ch5*27</span></div>
<div style="position:absolute;top:148;left:263"><span class="ft3">4</span></div>
<div style="position:absolute;top:153;left:268"><span class="ft1"> + ch6*27</span></div>
<div style="position:absolute;top:148;left:327"><span class="ft3">3</span></div>
<div style="position:absolute;top:153;left:333"><span class="ft1"> + ch7*27</span></div>
<div style="position:absolute;top:148;left:392"><span class="ft3">2</span></div>
<div style="position:absolute;top:153;left:398"><span class="ft1"> + ch8*27</span></div>
<div style="position:absolute;top:148;left:457"><span class="ft3">1</span></div>
<div style="position:absolute;top:153;left:462"><span class="ft1"> + ch9*27</span></div>
<div style="position:absolute;top:148;left:521"><span class="ft3">0</span></div>
<div style="position:absolute;top:150;left:527"><span class="ft0"> </span></div>
<div style="position:absolute;top:133;left:640"><span class="ft0">  </span></div>
<div style="position:absolute;top:154;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:173;left:80"><span class="ft0"> </span></div>
<div style="position:absolute;top:204;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:190;left:90"><span class="ft1"> Then, using the modulo (</span></div>
<div style="position:absolute;top:190;left:244"><span class="ft4">%</span></div>
<div style="position:absolute;top:190;left:252"><span class="ft1">) operator, we squeeze the resulting huge range of numbers </span></div>
<div style="position:absolute;top:206;left:90"><span class="ft1">into a range about twice as big as the number of items we want to store. This is an </span></div>
<div style="position:absolute;top:222;left:90"><span class="ft1">example of a hash function:</span></div>
<div style="position:absolute;top:219;left:260"><span class="ft0"> </span></div>
<div style="position:absolute;top:204;left:640"><span class="ft0">  </span></div>
<div style="position:absolute;top:222;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:242;left:80"><span class="ft0"> </span></div>
<div style="position:absolute;top:257;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:256;left:113"><span class="ft4"> arraySize = numberWords * 2;</span></div>
<div style="position:absolute;top:253;left:347"><span class="ft0"> </span></div>
<div style="position:absolute;top:257;left:640"><span class="ft0">  </span></div>
<div style="position:absolute;top:261;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:276;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:276;left:113"><span class="ft4"> arrayIndex = hugeNumber % arraySize;</span></div>
<div style="position:absolute;top:273;left:413"><span class="ft0"> </span></div>
<div style="position:absolute;top:276;left:640"><span class="ft0">  </span></div>
<div style="position:absolute;top:280;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:299;left:80"><span class="ft0"> </span></div>
<div style="position:absolute;top:345;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:315;left:90"><span class="ft1"> In the huge range, each number represents a potential data item (an arrangement of </span></div>
<div style="position:absolute;top:331;left:90"><span class="ft1">letters), but few of these numbers represent actual data items (English words). A hash </span></div>
<div style="position:absolute;top:347;left:90"><span class="ft1">function transforms these large numbers into the index numbers of a much smaller array. </span></div>
<div style="position:absolute;top:363;left:90"><span class="ft1">In this array we expect that, on the average, there will be one word for every two cells. </span></div>
<div style="position:absolute;top:379;left:90"><span class="ft1">Some cells will have no words, and some more than one.</span></div>
<div style="position:absolute;top:376;left:442"><span class="ft0"> </span></div>
<div style="position:absolute;top:345;left:640"><span class="ft0">  </span></div>
<div style="position:absolute;top:379;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:398;left:80"><span class="ft0"> </span></div>
<div style="position:absolute;top:429;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:414;left:90"><span class="ft1"> A practical implementation of this scheme runs into trouble because </span></div>
<div style="position:absolute;top:414;left:510"><span class="ft4">hugeNumber</span></div>
<div style="position:absolute;top:414;left:594"><span class="ft1"> will </span></div>
<div style="position:absolute;top:432;left:90"><span class="ft1">probably overflow its variable size, even for type </span></div>
<div style="position:absolute;top:432;left:390"><span class="ft4">long</span></div>
<div style="position:absolute;top:432;left:423"><span class="ft1">. We'll see how to deal with this </span></div>
<div style="position:absolute;top:448;left:90"><span class="ft1">later.</span></div>
<div style="position:absolute;top:445;left:121"><span class="ft0"> </span></div>
<div style="position:absolute;top:429;left:640"><span class="ft0">  </span></div>
<div style="position:absolute;top:448;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:468;left:80"><span class="ft0"> </span></div>
<div style="position:absolute;top:484;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:483;left:90"><span class="ft5"> Collisions</span></div>
<div style="position:absolute;top:485;left:180"><span class="ft0"> </span></div>
<div style="position:absolute;top:484;left:640"><span class="ft0">  </span></div>
<div style="position:absolute;top:489;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:508;left:80"><span class="ft0"> </span></div>
<div style="position:absolute;top:530;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:524;left:90"><span class="ft1"> We pay a price for squeezing a large range into a small one. There's no longer a </span></div>
<div style="position:absolute;top:540;left:90"><span class="ft1">guarantee that two words won't hash to the same array index.</span></div>
<div style="position:absolute;top:537;left:469"><span class="ft0"> </span></div>
<div style="position:absolute;top:530;left:640"><span class="ft0">  </span></div>
<div style="position:absolute;top:540;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:559;left:80"><span class="ft0"> </span></div>
<div style="position:absolute;top:589;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:575;left:90"><span class="ft1"> This is similar to what happened when we added the letter codes, but the situation is </span></div>
<div style="position:absolute;top:591;left:90"><span class="ft1">nowhere near as bad. When we added the letters, there were only 260 possible results </span></div>
<div style="position:absolute;top:607;left:90"><span class="ft1">(for words up to 10 letters). Now we're spreading this out into 50,000 possible results.</span></div>
<div style="position:absolute;top:604;left:614"><span class="ft0">   </span></div>
<div style="position:absolute;top:607;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:626;left:80"><span class="ft0"> </span></div>
<div style="position:absolute;top:664;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:642;left:90"><span class="ft1"> Even so, it's impossible to avoid hashing several different words into the same array </span></div>
<div style="position:absolute;top:658;left:90"><span class="ft1">location, at least occasionally. We'd hoped that we could have one data item per index </span></div>
<div style="position:absolute;top:674;left:90"><span class="ft1">number, but this turns out not to be possible. The best we can do is hope that not too </span></div>
<div style="position:absolute;top:690;left:90"><span class="ft1">many words will hash to the same index.</span></div>
<div style="position:absolute;top:687;left:340"><span class="ft0"> </span></div>
<div style="position:absolute;top:664;left:640"><span class="ft0">  </span></div>
<div style="position:absolute;top:690;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:710;left:80"><span class="ft0"> </span></div>
<div style="position:absolute;top:747;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:725;left:90"><span class="ft1"> Perhaps you want to insert the word melioration into the array. You hash the word to </span></div>
<div style="position:absolute;top:741;left:90"><span class="ft1">obtain its index number, but find that the cell at that number is already occupied by the </span></div>
<div style="position:absolute;top:757;left:90"><span class="ft1">word demystify, which happens to hash to the exact same number (for a certain size </span></div>
<div style="position:absolute;top:773;left:90"><span class="ft1">array). This situation, shown in Figure 11.4, is called a collision.</span></div>
<div style="position:absolute;top:770;left:479"><span class="ft0"> </span></div>
<div style="position:absolute;top:747;left:640"><span class="ft0">  </span></div>
<div style="position:absolute;top:774;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:793;left:80"><span class="ft0"> </span></div>
<div style="position:absolute;top:908;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:1011;left:313"><span class="ft0">  </span></div>
<div style="position:absolute;top:908;left:640"><span class="ft0">  </span></div>
<div style="position:absolute;top:1011;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:1030;left:80"><span class="ft0"> </span></div>
<div style="position:absolute;top:1046;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:1046;left:136"><span class="ft7"> Figure 11.4:  Collision</span></div>
<div style="position:absolute;top:1043;left:274"><span class="ft0"> </span></div>
<div style="position:absolute;top:1046;left:640"><span class="ft0">  </span></div>
<div style="position:absolute;top:1069;left:80"><span class="ft0"> </span></div>
<div style="position:absolute;top:1067;left:136"><span class="ft8">  </span></div>
<div style="position:absolute;top:1067;left:640"><span class="ft8">  </span></div>
<div style="position:absolute;top:1069;left:79"><span class="ft0"> </span></div>
<script TYPE="text/javascript">
			var currentZoom = parent.ltop.currentZoom;
			if(currentZoom != undefined)
				document.body.style.zoom=currentZoom/100;
			</script>
</body>
</html>