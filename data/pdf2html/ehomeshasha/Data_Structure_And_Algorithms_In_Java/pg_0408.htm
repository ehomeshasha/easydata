<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0052)http://www.verypdf.com/ -->
<html>
<head>
<title>pg_0408</title>

<style>
<!-- 
select {font-size:12px;}
A:link {text-decoration: none; color: blue}
A:visited {text-decoration: none; color: purple}
A:active {text-decoration: red}
A:hover {text-decoration: underline; color:red}
-->
</style>
<script TYPE="text/javascript"> 
<!-- hide 
function killerrors()
{ 
return true; 
} 
window.onerror = killerrors; 
// --> 
</script>
<style type="text/css">
<!--
.ft0{font-style:normal;font-weight:normal;font-size:16px;font-family:Times New Roman;color:#000000;}
.ft1{font-style:normal;font-weight:normal;font-size:13px;font-family:Arial;color:#010100;}
.ft2{font-style:normal;font-weight:normal;font-size:13px;font-family:Times New Roman;color:#010100;}
.ft3{font-style:normal;font-weight:bold;font-size:16px;font-family:Arial;color:#010100;}
.ft4{font-style:normal;font-weight:bold;font-size:18px;font-family:Arial;color:#800000;}
.ft5{font-style:italic;font-weight:normal;font-size:13px;font-family:Arial;color:#010100;}
.ft6{font-style:normal;font-weight:normal;font-size:11px;font-family:Times New Roman;color:#000000;}
-->
</style>
</head>
<body vlink="#FFFFFF" link="#FFFFFF" bgcolor="#ffffff">

<script TYPE="text/javascript">
var currentpos,timer; 
function initialize() 
{ 
timer=setInterval("scrollwindow()",10);
} 
function sc(){
clearInterval(timer); 
}
function scrollwindow() 
{ 
currentpos=document.body.scrollTop; 
window.scroll(0,++currentpos); 
if (currentpos != document.body.scrollTop) 
sc();
} 
document.onmousedown=sc
document.ondblclick=initialize
</script>
<div style="position:absolute;top:0;left:0"><img width="826" height="1169" src="pg_0408.jpg" ALT=""></div>
<div style="position:absolute;top:1102;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:1102;left:391"><span class="ft0"> - 408 -</span></div>
<div style="position:absolute;top:84;left:80"><span class="ft0"> </span></div>
<div style="position:absolute;top:106;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:100;left:90"><span class="ft1"> Sometimes the range of keys is so large it overflows type </span></div>
<div style="position:absolute;top:100;left:445"><span class="ft2">int</span></div>
<div style="position:absolute;top:100;left:470"><span class="ft1"> or type </span></div>
<div style="position:absolute;top:100;left:520"><span class="ft2">long</span></div>
<div style="position:absolute;top:100;left:553"><span class="ft1"> variables. </span></div>
<div style="position:absolute;top:117;left:90"><span class="ft1">We'll see how to handle overflow when we talk about hashing strings in a moment.</span></div>
<div style="position:absolute;top:114;left:596"><span class="ft0">   </span></div>
<div style="position:absolute;top:117;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:136;left:80"><span class="ft0"> </span></div>
<div style="position:absolute;top:158;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:152;left:90"><span class="ft1"> To summarize: The trick is to find a hash function that's simple and fast, yet excludes the </span></div>
<div style="position:absolute;top:168;left:90"><span class="ft1">non-data parts of the key and uses all the data.</span></div>
<div style="position:absolute;top:165;left:380"><span class="ft0"> </span></div>
<div style="position:absolute;top:158;left:640"><span class="ft0">  </span></div>
<div style="position:absolute;top:168;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:187;left:80"><span class="ft0"> </span></div>
<div style="position:absolute;top:203;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:203;left:90"><span class="ft3"> Use a Prime Number for the Modulo Base</span></div>
<div style="position:absolute;top:203;left:418"><span class="ft0"> </span></div>
<div style="position:absolute;top:203;left:640"><span class="ft0">  </span></div>
<div style="position:absolute;top:206;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:226;left:80"><span class="ft0"> </span></div>
<div style="position:absolute;top:272;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:242;left:90"><span class="ft1"> Often the hash function involves using the modulo operator (</span></div>
<div style="position:absolute;top:242;left:462"><span class="ft2">%</span></div>
<div style="position:absolute;top:242;left:470"><span class="ft1">) with the table size. We've </span></div>
<div style="position:absolute;top:259;left:90"><span class="ft1">already seen that it's important for the table size to be prime number when using a </span></div>
<div style="position:absolute;top:275;left:90"><span class="ft1">quadratic probe or double hashing. However, if the keys themselves may not be </span></div>
<div style="position:absolute;top:291;left:90"><span class="ft1">randomly distributed, it's important for the table size to be a prime number no matter what </span></div>
<div style="position:absolute;top:307;left:90"><span class="ft1">hashing system is used.</span></div>
<div style="position:absolute;top:304;left:239"><span class="ft0"> </span></div>
<div style="position:absolute;top:272;left:640"><span class="ft0">  </span></div>
<div style="position:absolute;top:307;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:326;left:80"><span class="ft0"> </span></div>
<div style="position:absolute;top:372;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:342;left:90"><span class="ft1"> This is because, if many keys share a divisor with the array size, they may tend to hash </span></div>
<div style="position:absolute;top:358;left:90"><span class="ft1">to the same location, causing clustering. Using a prime table size eliminates this </span></div>
<div style="position:absolute;top:374;left:90"><span class="ft1">possibility. For example, if the table size is a multiple of 50 in our car part example, the </span></div>
<div style="position:absolute;top:390;left:90"><span class="ft1">category codes will all hash to index numbers that are multiples of 50. However, with a </span></div>
<div style="position:absolute;top:406;left:90"><span class="ft1">prime number such as 53, you are guaranteed that no keys will divide into the table size.</span></div>
<div style="position:absolute;top:403;left:633"><span class="ft0"> </span></div>
<div style="position:absolute;top:372;left:640"><span class="ft0">  </span></div>
<div style="position:absolute;top:406;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:425;left:80"><span class="ft0"> </span></div>
<div style="position:absolute;top:447;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:441;left:90"><span class="ft1"> The moral is to examine your keys carefully, and tailor your hash algorithm to remove any </span></div>
<div style="position:absolute;top:457;left:90"><span class="ft1">irregularity in the distribution of the keys.</span></div>
<div style="position:absolute;top:454;left:339"><span class="ft0"> </span></div>
<div style="position:absolute;top:447;left:640"><span class="ft0">  </span></div>
<div style="position:absolute;top:457;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:476;left:80"><span class="ft0"> </span></div>
<div style="position:absolute;top:493;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:492;left:90"><span class="ft4"> Hashing Strings</span></div>
<div style="position:absolute;top:494;left:234"><span class="ft0"> </span></div>
<div style="position:absolute;top:493;left:640"><span class="ft0">  </span></div>
<div style="position:absolute;top:498;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:517;left:80"><span class="ft0"> </span></div>
<div style="position:absolute;top:546;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:533;left:90"><span class="ft1"> We saw at the beginning of this chapter how to convert short strings to key numbers by </span></div>
<div style="position:absolute;top:549;left:90"><span class="ft1">multiplying digit codes by powers of a constant. In particular, we saw that the four-letter </span></div>
<div style="position:absolute;top:565;left:90"><span class="ft1">word cats could turn into a number by calculating</span></div>
<div style="position:absolute;top:562;left:391"><span class="ft0"> </span></div>
<div style="position:absolute;top:546;left:640"><span class="ft0">  </span></div>
<div style="position:absolute;top:565;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:584;left:80"><span class="ft0"> </span></div>
<div style="position:absolute;top:599;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:603;left:113"><span class="ft2"> key = 3*27</span></div>
<div style="position:absolute;top:597;left:197"><span class="ft6">3</span></div>
<div style="position:absolute;top:603;left:202"><span class="ft2"> + 1*27</span></div>
<div style="position:absolute;top:597;left:260"><span class="ft6">2</span></div>
<div style="position:absolute;top:603;left:266"><span class="ft2"> + 20*27</span></div>
<div style="position:absolute;top:597;left:333"><span class="ft6">1</span></div>
<div style="position:absolute;top:603;left:338"><span class="ft2"> + 19*27</span></div>
<div style="position:absolute;top:597;left:405"><span class="ft6">0</span></div>
<div style="position:absolute;top:600;left:410"><span class="ft0"> </span></div>
<div style="position:absolute;top:599;left:640"><span class="ft0">  </span></div>
<div style="position:absolute;top:604;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:623;left:80"><span class="ft0"> </span></div>
<div style="position:absolute;top:644;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:639;left:90"><span class="ft1"> This approach has the desirable attribute of involving all the characters in the input string. </span></div>
<div style="position:absolute;top:655;left:90"><span class="ft1">The calculated key value can then be hashed into an array index in the usual way:</span></div>
<div style="position:absolute;top:652;left:594"><span class="ft0">   </span></div>
<div style="position:absolute;top:655;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:674;left:80"><span class="ft0"> </span></div>
<div style="position:absolute;top:689;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:689;left:113"><span class="ft2"> index = (key) % arraySize;</span></div>
<div style="position:absolute;top:686;left:330"><span class="ft0"> </span></div>
<div style="position:absolute;top:689;left:640"><span class="ft0">  </span></div>
<div style="position:absolute;top:693;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:712;left:80"><span class="ft0"> </span></div>
<div style="position:absolute;top:727;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:728;left:90"><span class="ft1"> Here's a Java method that finds the key value of a word:</span></div>
<div style="position:absolute;top:725;left:436"><span class="ft0"> </span></div>
<div style="position:absolute;top:727;left:640"><span class="ft0">  </span></div>
<div style="position:absolute;top:731;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:750;left:80"><span class="ft0"> </span></div>
<div style="position:absolute;top:766;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:765;left:113"><span class="ft2"> public static int hashFunc1(String key)</span></div>
<div style="position:absolute;top:762;left:438"><span class="ft0"> </span></div>
<div style="position:absolute;top:766;left:640"><span class="ft0">  </span></div>
<div style="position:absolute;top:770;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:785;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:784;left:113"><span class="ft2">    {</span></div>
<div style="position:absolute;top:781;left:147"><span class="ft0"> </span></div>
<div style="position:absolute;top:785;left:640"><span class="ft0">  </span></div>
<div style="position:absolute;top:789;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:804;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:804;left:113"><span class="ft2">    int hashVal = 0;</span></div>
<div style="position:absolute;top:801;left:272"><span class="ft0"> </span></div>
<div style="position:absolute;top:804;left:640"><span class="ft0">  </span></div>
<div style="position:absolute;top:808;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:823;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:823;left:113"><span class="ft2">    int pow27 = 1;                       // 1, 27, 27*27, etc</span></div>
<div style="position:absolute;top:820;left:613"><span class="ft0">   </span></div>
<div style="position:absolute;top:827;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:842;left:79"><span class="ft0">  </span></div>
<div style="position:absolute;top:842;left:640"><span class="ft0">  </span></div>
<div style="position:absolute;top:846;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:862;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:861;left:113"><span class="ft2">    for(int j=key.length()-1; j&gt;=0; j--) // right to left</span></div>
<div style="position:absolute;top:858;left:580"><span class="ft0"> </span></div>
<div style="position:absolute;top:862;left:640"><span class="ft0">  </span></div>
<div style="position:absolute;top:865;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:881;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:880;left:113"><span class="ft2">       {</span></div>
<div style="position:absolute;top:877;left:172"><span class="ft0"> </span></div>
<div style="position:absolute;top:881;left:640"><span class="ft0">  </span></div>
<div style="position:absolute;top:885;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:900;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:899;left:113"><span class="ft2">       int letter = key.charAt(j) - 96;  // get char code</span></div>
<div style="position:absolute;top:896;left:580"><span class="ft0"> </span></div>
<div style="position:absolute;top:900;left:640"><span class="ft0">  </span></div>
<div style="position:absolute;top:904;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:919;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:919;left:113"><span class="ft2">       hashVal += pow27 * letter;        // times power of 27</span></div>
<div style="position:absolute;top:916;left:613"><span class="ft0">   </span></div>
<div style="position:absolute;top:923;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:938;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:938;left:113"><span class="ft2">       pow27 *= 27;                      // next power of 27</span></div>
<div style="position:absolute;top:935;left:605"><span class="ft0">   </span></div>
<div style="position:absolute;top:942;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:957;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:957;left:113"><span class="ft2">       }</span></div>
<div style="position:absolute;top:954;left:172"><span class="ft0"> </span></div>
<div style="position:absolute;top:957;left:640"><span class="ft0">  </span></div>
<div style="position:absolute;top:961;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:977;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:976;left:113"><span class="ft2">    return hashVal % arraySize;</span></div>
<div style="position:absolute;top:973;left:363"><span class="ft0"> </span></div>
<div style="position:absolute;top:977;left:640"><span class="ft0">  </span></div>
<div style="position:absolute;top:980;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:996;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:995;left:113"><span class="ft2">    }  // end hashFunc1()</span></div>
<div style="position:absolute;top:992;left:313"><span class="ft0"> </span></div>
<div style="position:absolute;top:996;left:640"><span class="ft0">  </span></div>
<div style="position:absolute;top:1000;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:1019;left:80"><span class="ft0"> </span></div>
<div style="position:absolute;top:1049;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:1035;left:90"><span class="ft1"> The loop starts at the rightmost letter in the word. If there are N letters, this is N¨C1. The </span></div>
<div style="position:absolute;top:1051;left:90"><span class="ft1">numerical equivalent of the letter, according to the code we devised at the beginning of </span></div>
<div style="position:absolute;top:1067;left:90"><span class="ft1">this chapter (a=1 and so on), is placed in </span></div>
<div style="position:absolute;top:1067;left:345"><span class="ft2">letter</span></div>
<div style="position:absolute;top:1067;left:395"><span class="ft1">. This is then multiplied by a power of </span></div>
<div style="position:absolute;top:1049;left:640"><span class="ft0">  </span></div>
<script TYPE="text/javascript">
			var currentZoom = parent.ltop.currentZoom;
			if(currentZoom != undefined)
				document.body.style.zoom=currentZoom/100;
			</script>
</body>
</html>