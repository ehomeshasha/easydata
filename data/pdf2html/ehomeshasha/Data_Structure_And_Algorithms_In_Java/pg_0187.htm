<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0052)http://www.verypdf.com/ -->
<html>
<head>
<title>pg_0187</title>

<style>
<!-- 
select {font-size:12px;}
A:link {text-decoration: none; color: blue}
A:visited {text-decoration: none; color: purple}
A:active {text-decoration: red}
A:hover {text-decoration: underline; color:red}
-->
</style>
<script TYPE="text/javascript"> 
<!-- hide 
function killerrors()
{ 
return true; 
} 
window.onerror = killerrors; 
// --> 
</script>
<style type="text/css">
<!--
.ft0{font-style:normal;font-weight:normal;font-size:16px;font-family:Times New Roman;color:#000000;}
.ft1{font-style:normal;font-weight:normal;font-size:13px;font-family:Arial;color:#010100;}
.ft2{font-style:normal;font-weight:normal;font-size:13px;font-family:Times New Roman;color:#010100;}
.ft3{font-style:normal;font-weight:bold;font-size:18px;font-family:Arial;color:#800000;}
.ft4{font-style:italic;font-weight:normal;font-size:13px;font-family:Arial;color:#010100;}
-->
</style>
</head>
<body vlink="#FFFFFF" link="#FFFFFF" bgcolor="#ffffff">

<script TYPE="text/javascript">
var currentpos,timer; 
function initialize() 
{ 
timer=setInterval("scrollwindow()",10);
} 
function sc(){
clearInterval(timer); 
}
function scrollwindow() 
{ 
currentpos=document.body.scrollTop; 
window.scroll(0,++currentpos); 
if (currentpos != document.body.scrollTop) 
sc();
} 
document.onmousedown=sc
document.ondblclick=initialize
</script>
<div style="position:absolute;top:0;left:0"><img width="826" height="1169" src="pg_0187.jpg" ALT=""></div>
<div style="position:absolute;top:1102;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:1102;left:391"><span class="ft0"> - 187 -</span></div>
<div style="position:absolute;top:102;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:81;left:90"><span class="ft1"> As users of a list class, what we need is ac cess to a reference that can point to any </span></div>
<div style="position:absolute;top:97;left:90"><span class="ft1">arbitrary link. This allows us to examine or modify the link. We should be able to </span></div>
<div style="position:absolute;top:112;left:90"><span class="ft1">increment the reference so we can traverse along the list, looking at each link in turn, and </span></div>
<div style="position:absolute;top:128;left:90"><span class="ft1">we should be able to access the link pointed to by the reference.</span></div>
<div style="position:absolute;top:125;left:486"><span class="ft0"> </span></div>
<div style="position:absolute;top:102;left:640"><span class="ft0">  </span></div>
<div style="position:absolute;top:129;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:148;left:80"><span class="ft0"> </span></div>
<div style="position:absolute;top:179;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:164;left:90"><span class="ft1"> Assuming we create such a reference, where will it be installed. One possibility is to use </span></div>
<div style="position:absolute;top:180;left:90"><span class="ft1">a field in the list itself, called </span></div>
<div style="position:absolute;top:180;left:266"><span class="ft2">current</span></div>
<div style="position:absolute;top:180;left:325"><span class="ft1"> or something similar. You could access a link </span></div>
<div style="position:absolute;top:197;left:90"><span class="ft1">using </span></div>
<div style="position:absolute;top:197;left:127"><span class="ft2">current</span></div>
<div style="position:absolute;top:197;left:186"><span class="ft1">, and increment </span></div>
<div style="position:absolute;top:197;left:285"><span class="ft2">current</span></div>
<div style="position:absolute;top:197;left:344"><span class="ft1"> to move to the next link.</span></div>
<div style="position:absolute;top:194;left:494"><span class="ft0"> </span></div>
<div style="position:absolute;top:179;left:640"><span class="ft0">  </span></div>
<div style="position:absolute;top:198;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:217;left:80"><span class="ft0"> </span></div>
<div style="position:absolute;top:271;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:233;left:90"><span class="ft1"> One trouble with this approach is that you might need more than one such reference, just </span></div>
<div style="position:absolute;top:249;left:90"><span class="ft1">as you often use several array indices at the same time. How many would be </span></div>
<div style="position:absolute;top:265;left:90"><span class="ft1">appropriate. There's no way to know how many the user might need. Thus it seems </span></div>
<div style="position:absolute;top:281;left:90"><span class="ft1">easier to allow the user to create as many such references as necessary. To make this </span></div>
<div style="position:absolute;top:297;left:90"><span class="ft1">possible in an object-oriented language, it's natural to embed each reference in a class </span></div>
<div style="position:absolute;top:313;left:90"><span class="ft1">object. (This can't be the same as the list class, because there's only one list object.)</span></div>
<div style="position:absolute;top:310;left:609"><span class="ft0"> </span></div>
<div style="position:absolute;top:271;left:640"><span class="ft0">  </span></div>
<div style="position:absolute;top:313;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:332;left:80"><span class="ft0"> </span></div>
<div style="position:absolute;top:349;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:348;left:90"><span class="ft3"> An Iterator Class</span></div>
<div style="position:absolute;top:350;left:240"><span class="ft0"> </span></div>
<div style="position:absolute;top:349;left:640"><span class="ft0">  </span></div>
<div style="position:absolute;top:354;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:373;left:80"><span class="ft0"> </span></div>
<div style="position:absolute;top:403;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:389;left:90"><span class="ft1"> Objects containing references to items in data structures, used to traverse data </span></div>
<div style="position:absolute;top:405;left:90"><span class="ft1">structures, are commonly called iterators (or sometimes, as in certain Java classes, </span></div>
<div style="position:absolute;top:421;left:90"><span class="ft4">enumerators). Here's a preliminary idea of how they look:</span></div>
<div style="position:absolute;top:418;left:442"><span class="ft0"> </span></div>
<div style="position:absolute;top:403;left:640"><span class="ft0">  </span></div>
<div style="position:absolute;top:421;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:440;left:80"><span class="ft0"> </span></div>
<div style="position:absolute;top:455;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:455;left:113"><span class="ft2"> class ListIterator()</span></div>
<div style="position:absolute;top:452;left:280"><span class="ft0"> </span></div>
<div style="position:absolute;top:455;left:640"><span class="ft0">  </span></div>
<div style="position:absolute;top:459;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:475;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:474;left:113"><span class="ft2">    {</span></div>
<div style="position:absolute;top:471;left:147"><span class="ft0"> </span></div>
<div style="position:absolute;top:475;left:640"><span class="ft0">  </span></div>
<div style="position:absolute;top:478;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:494;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:493;left:113"><span class="ft2">    private Link current;</span></div>
<div style="position:absolute;top:490;left:313"><span class="ft0"> </span></div>
<div style="position:absolute;top:494;left:640"><span class="ft0">  </span></div>
<div style="position:absolute;top:498;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:513;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:512;left:113"><span class="ft2">    </span></div>
<div style="position:absolute;top:509;left:138"><span class="ft0"> </span></div>
<div style="position:absolute;top:513;left:640"><span class="ft0">  </span></div>
<div style="position:absolute;top:517;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:532;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:532;left:113"><span class="ft2"> }</span></div>
<div style="position:absolute;top:529;left:122"><span class="ft0"> </span></div>
<div style="position:absolute;top:532;left:640"><span class="ft0">  </span></div>
<div style="position:absolute;top:536;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:555;left:80"><span class="ft0"> </span></div>
<div style="position:absolute;top:585;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:571;left:90"><span class="ft1"> The </span></div>
<div style="position:absolute;top:571;left:118"><span class="ft2">current</span></div>
<div style="position:absolute;top:571;left:176"><span class="ft1"> field contains a reference to the link the iterator currently points to. (The </span></div>
<div style="position:absolute;top:588;left:90"><span class="ft1">term &quot;points&quot; as used here doesn't refer to pointers in C++; we're using it in its generic </span></div>
<div style="position:absolute;top:604;left:90"><span class="ft1">sense.)</span></div>
<div style="position:absolute;top:601;left:136"><span class="ft0"> </span></div>
<div style="position:absolute;top:585;left:640"><span class="ft0">  </span></div>
<div style="position:absolute;top:604;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:623;left:80"><span class="ft0"> </span></div>
<div style="position:absolute;top:679;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:639;left:90"><span class="ft1"> To use such an iterator, the user might create a list and then create an iterator object </span></div>
<div style="position:absolute;top:655;left:90"><span class="ft1">associated with the list. Actually, as it turns out, it's easier to let the list create the iterator, </span></div>
<div style="position:absolute;top:672;left:90"><span class="ft1">so it can pass the iterator certain information, such as a reference to its </span></div>
<div style="position:absolute;top:672;left:530"><span class="ft2">first</span></div>
<div style="position:absolute;top:672;left:576"><span class="ft1"> field. Thus </span></div>
<div style="position:absolute;top:689;left:90"><span class="ft1">we add a </span></div>
<div style="position:absolute;top:689;left:151"><span class="ft2">getIterator()</span></div>
<div style="position:absolute;top:689;left:259"><span class="ft1"> method to the list class; this method returns a suitable </span></div>
<div style="position:absolute;top:706;left:90"><span class="ft1">iterator object to the user. Here's some abbreviated code in </span></div>
<div style="position:absolute;top:706;left:458"><span class="ft2">main()</span></div>
<div style="position:absolute;top:706;left:508"><span class="ft1"> that shows how the </span></div>
<div style="position:absolute;top:723;left:90"><span class="ft1">class user would invoke an iterator:</span></div>
<div style="position:absolute;top:720;left:307"><span class="ft0"> </span></div>
<div style="position:absolute;top:679;left:640"><span class="ft0">  </span></div>
<div style="position:absolute;top:723;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:742;left:80"><span class="ft0"> </span></div>
<div style="position:absolute;top:757;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:757;left:113"><span class="ft2"> public static void main(...)</span></div>
<div style="position:absolute;top:754;left:347"><span class="ft0"> </span></div>
<div style="position:absolute;top:757;left:640"><span class="ft0">  </span></div>
<div style="position:absolute;top:761;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:777;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:776;left:113"><span class="ft2">    {</span></div>
<div style="position:absolute;top:773;left:147"><span class="ft0"> </span></div>
<div style="position:absolute;top:777;left:640"><span class="ft0">  </span></div>
<div style="position:absolute;top:780;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:796;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:795;left:113"><span class="ft2">    LinkList theList = new LinkList();           // make list</span></div>
<div style="position:absolute;top:792;left:613"><span class="ft0">   </span></div>
<div style="position:absolute;top:800;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:815;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:814;left:113"><span class="ft2">    ListIterator iter1 = theList.getIterator();  // make iter</span></div>
<div style="position:absolute;top:811;left:613"><span class="ft0">   </span></div>
<div style="position:absolute;top:819;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:834;left:79"><span class="ft0">  </span></div>
<div style="position:absolute;top:834;left:640"><span class="ft0">  </span></div>
<div style="position:absolute;top:838;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:859;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:853;left:113"><span class="ft2">    Link aLink = iter1.getCurrent();   // access link at </span></div>
<div style="position:absolute;top:868;left:113"><span class="ft2">iterator</span></div>
<div style="position:absolute;top:865;left:180"><span class="ft0"> </span></div>
<div style="position:absolute;top:859;left:640"><span class="ft0">  </span></div>
<div style="position:absolute;top:869;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:885;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:884;left:113"><span class="ft2">    iter1.nextLink();                  // move iter to next link</span></div>
<div style="position:absolute;top:881;left:638"><span class="ft0">  </span></div>
<div style="position:absolute;top:889;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:908;left:80"><span class="ft0"> </span></div>
<div style="position:absolute;top:923;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:923;left:113"><span class="ft2">    }</span></div>
<div style="position:absolute;top:920;left:147"><span class="ft0"> </span></div>
<div style="position:absolute;top:923;left:640"><span class="ft0">  </span></div>
<div style="position:absolute;top:927;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:946;left:80"><span class="ft0"> </span></div>
<div style="position:absolute;top:984;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:962;left:90"><span class="ft1"> Once we've made the iterator object, we can use it to access the link it points to, or </span></div>
<div style="position:absolute;top:978;left:90"><span class="ft1">increment it so it points to the next link, as shown in the second two statements. We call </span></div>
<div style="position:absolute;top:994;left:90"><span class="ft1">the iterator object </span></div>
<div style="position:absolute;top:994;left:201"><span class="ft2">iter1</span></div>
<div style="position:absolute;top:994;left:243"><span class="ft1"> to emphasize that you could make more iterators (</span></div>
<div style="position:absolute;top:994;left:556"><span class="ft2">iter2</span></div>
<div style="position:absolute;top:994;left:597"><span class="ft1"> and </span></div>
<div style="position:absolute;top:1011;left:90"><span class="ft1">so on) the same way.</span></div>
<div style="position:absolute;top:1008;left:222"><span class="ft0"> </span></div>
<div style="position:absolute;top:984;left:640"><span class="ft0">  </span></div>
<div style="position:absolute;top:1011;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:1030;left:80"><span class="ft0"> </span></div>
<div style="position:absolute;top:1052;left:79"><span class="ft0"> </span></div>
<div style="position:absolute;top:1046;left:90"><span class="ft1"> The iterator always points to some link in the list. It's associated with the list, but it's not </span></div>
<div style="position:absolute;top:1062;left:90"><span class="ft1">the same as the list. Figure 5.17 shows two iterators pointing to links in a list.</span></div>
<div style="position:absolute;top:1059;left:561"><span class="ft0"> </span></div>
<div style="position:absolute;top:1052;left:640"><span class="ft0">  </span></div>
<div style="position:absolute;top:1062;left:79"><span class="ft0"> </span></div>
<script TYPE="text/javascript">
			var currentZoom = parent.ltop.currentZoom;
			if(currentZoom != undefined)
				document.body.style.zoom=currentZoom/100;
			</script>
</body>
</html>